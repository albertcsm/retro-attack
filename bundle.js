/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e={457:(t,e,r)=>{t.exports=r.p+"3e5229880f599aeba4f7.wasm"}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,n),i.exports}function o(){o=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),u=new F(n||[]);return i(a,"_invoke",{value:j(t,r,u)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var y="suspendedStart",g="suspendedYield",_="executing",v="completed",w={};function d(){}function b(){}function m(){}var x={};s(x,u,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(I([])));E&&E!==r&&n.call(E,u)&&(x=E);var L=m.prototype=d.prototype=Object.create(x);function O(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,u){var c=p(t[o],t,i);if("throw"!==c.type){var f=c.arg,s=f.value;return s&&"object"==l(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(s).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}})}function j(e,r,n){var o=y;return function(i,a){if(o===_)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=P(u,n);if(c){if(c===w)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=_;var f=p(e,r,n);if("normal"===f.type){if(o=n.done?v:g,f.arg===w)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(o=v,n.method="throw",n.arg=f.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),w;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,w;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,w):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,w)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(l(e)+" is not iterable")}return b.prototype=m,i(L,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:b,configurable:!0}),b.displayName=s(m,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,f,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},O(S.prototype),s(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(h(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(L),s(L,f,"Generator"),s(L,u,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),f=n.call(a,"finallyLoc");if(c&&f){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!f)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),w}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),w}},e}function i(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){i(a,n,o,u,c,"next",t)}function c(t){i(a,n,o,u,c,"throw",t)}u(void 0)}))}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function f(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}n.m=e,n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href;var h="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:function(){throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&h.decode();var p=null;function y(){return null!==p&&0!==p.byteLength||(p=new Uint8Array(t.memory.buffer)),p}function g(t,e){return t>>>=0,h.decode(y().subarray(t,t+e))}var _=new Array(128).fill(void 0);_.push(void 0,null,!0,!1);var v=_.length;function w(t){v===_.length&&_.push(_.length+1);var e=v;return v=_[e],_[e]=t,e}function d(t){return _[t]}function b(t){var e=d(t);return function(t){t<132||(_[t]=v,v=t)}(t),e}function m(t){var e=l(t);if("number"==e||"boolean"==e||null==t)return"".concat(t);if("string"==e)return'"'.concat(t,'"');if("symbol"==e){var r=t.description;return null==r?"Symbol":"Symbol(".concat(r,")")}if("function"==e){var n=t.name;return"string"==typeof n&&n.length>0?"Function(".concat(n,")"):"Function"}if(Array.isArray(t)){var o=t.length,i="[";o>0&&(i+=m(t[0]));for(var a=1;a<o;a++)i+=", "+m(t[a]);return i+"]"}var u,c=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!(c.length>1))return toString.call(t);if("Object"==(u=c[1]))try{return"Object("+JSON.stringify(t)+")"}catch(t){return"Object"}return t instanceof Error?"".concat(t.name,": ").concat(t.message,"\n").concat(t.stack):u}var x=0,k="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:function(){throw Error("TextEncoder not available")}},E="function"==typeof k.encodeInto?function(t,e){return k.encodeInto(t,e)}:function(t,e){var r=k.encode(t);return e.set(r),{read:t.length,written:r.length}},L=null;function O(){return(null===L||!0===L.buffer.detached||void 0===L.buffer.detached&&L.buffer!==t.memory.buffer)&&(L=new DataView(t.memory.buffer)),L}"undefined"==typeof FinalizationRegistry||new FinalizationRegistry((function(e){return t.__wbg_bullet_free(e>>>0,1)}));var S="undefined"==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry((function(e){return t.__wbg_game_free(e>>>0,1)})),j=function(){return f((function e(){u(this,e);var r=t.game_new();return this.__wbg_ptr=r>>>0,S.register(this,this.__wbg_ptr,this),this}),[{key:"__destroy_into_raw",value:function(){var t=this.__wbg_ptr;return this.__wbg_ptr=0,S.unregister(this),t}},{key:"free",value:function(){var e=this.__destroy_into_raw();t.__wbg_game_free(e,0)}},{key:"update",value:function(){t.game_update(this.__wbg_ptr)}},{key:"get_player",value:function(){var e=t.game_get_player(this.__wbg_ptr);return A.__wrap(e)}},{key:"move_up",value:function(){t.game_move_up(this.__wbg_ptr)}},{key:"move_down",value:function(){t.game_move_down(this.__wbg_ptr)}},{key:"update_score",value:function(e){t.game_update_score(this.__wbg_ptr,e)}},{key:"get_score",value:function(){return t.game_get_score(this.__wbg_ptr)}},{key:"get_tile",value:function(e,r){return t.game_get_tile(this.__wbg_ptr,e,r)}},{key:"set_tile",value:function(e,r,n){t.game_set_tile(this.__wbg_ptr,e,r,n)}},{key:"get_map",value:function(){return b(t.game_get_map(this.__wbg_ptr))}},{key:"width",value:function(){return t.game_width(this.__wbg_ptr)>>>0}},{key:"height",value:function(){return t.game_height(this.__wbg_ptr)>>>0}},{key:"get_visible_map",value:function(){return b(t.game_get_visible_map(this.__wbg_ptr))}},{key:"get_visible_width",value:function(){return t.game_get_visible_width(this.__wbg_ptr)>>>0}},{key:"get_visible_height",value:function(){return t.game_get_visible_height(this.__wbg_ptr)>>>0}},{key:"get_visible_x",value:function(){return t.game_get_visible_x(this.__wbg_ptr)}},{key:"start",value:function(){t.game_start(this.__wbg_ptr)}},{key:"is_started",value:function(){return 0!==t.game_is_started(this.__wbg_ptr)}},{key:"is_ended",value:function(){return 0!==t.game_is_ended(this.__wbg_ptr)}},{key:"is_won",value:function(){return 0!==t.game_is_won(this.__wbg_ptr)}},{key:"fire",value:function(){t.game_fire(this.__wbg_ptr)}},{key:"bullets",value:function(){return b(t.game_bullets(this.__wbg_ptr))}},{key:"num_bullets",value:function(){return t.game_num_bullets(this.__wbg_ptr)>>>0}},{key:"get_time",value:function(){return t.game_get_time(this.__wbg_ptr)>>>0}}])}(),P="undefined"==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry((function(e){return t.__wbg_player_free(e>>>0,1)})),A=function(){function e(){u(this,e)}return f(e,[{key:"__destroy_into_raw",value:function(){var t=this.__wbg_ptr;return this.__wbg_ptr=0,P.unregister(this),t}},{key:"free",value:function(){var e=this.__destroy_into_raw();t.__wbg_player_free(e,0)}},{key:"y",value:function(){return t.player_y(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,P.register(r,r.__wbg_ptr,r),r}},{key:"new",value:function(r){var n=t.player_new(r);return e.__wrap(n)}}])}();function T(t,e){return F.apply(this,arguments)}function F(){return(F=a(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("function"==typeof Response&&e instanceof Response)){t.next=23;break}if("function"!=typeof WebAssembly.instantiateStreaming){t.next=15;break}return t.prev=2,t.next=5,WebAssembly.instantiateStreaming(e,r);case 5:case 20:return t.abrupt("return",t.sent);case 8:if(t.prev=8,t.t0=t.catch(2),"application/wasm"==e.headers.get("Content-Type")){t.next=14;break}console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t.t0),t.next=15;break;case 14:throw t.t0;case 15:return t.next=17,e.arrayBuffer();case 17:return n=t.sent,t.next=20,WebAssembly.instantiate(n,r);case 23:return t.next=25,WebAssembly.instantiate(e,r);case 25:if(!((i=t.sent)instanceof WebAssembly.Instance)){t.next=30;break}return t.abrupt("return",{instance:i,module:e});case 30:return t.abrupt("return",i);case 31:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}function I(){var e={wbg:{}};return e.wbg.__wbindgen_string_new=function(t,e){return w(g(t,e))},e.wbg.__wbindgen_number_new=function(t){return w(t)},e.wbg.__wbindgen_object_drop_ref=function(t){b(t)},e.wbg.__wbg_log_b103404cc5920657=function(t){console.log(d(t))},e.wbg.__wbg_new_a220cf903aa02ca2=function(){return w(new Array)},e.wbg.__wbg_new_525245e2b9901204=function(){return w(new Object)},e.wbg.__wbg_push_37c89022f34c01ca=function(t,e){return d(t).push(d(e))},e.wbg.__wbg_buffer_b7b08af79b0b0974=function(t){return w(d(t).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_8a2cb9ca96b27ec9=function(t,e,r){return w(new Uint8Array(d(t),e>>>0,r>>>0))},e.wbg.__wbg_new_ea1883e1e5e86686=function(t){return w(new Uint8Array(d(t)))},e.wbg.__wbg_set_eacc7d73fefaafdf=function(){return function(e,r){try{return function(t,e,r){return Reflect.set(d(t),d(e),d(r))}.apply(this,r)}catch(e){t.__wbindgen_exn_store(w(e))}}(0,arguments)},e.wbg.__wbindgen_debug_string=function(e,r){var n=function(t,e,r){if(void 0===r){var n=k.encode(t),o=e(n.length,1)>>>0;return y().subarray(o,o+n.length).set(n),x=n.length,o}for(var i=t.length,a=e(i,1)>>>0,u=y(),c=0;c<i;c++){var f=t.charCodeAt(c);if(f>127)break;u[a+c]=f}if(c!==i){0!==c&&(t=t.slice(c)),a=r(a,i,i=c+3*t.length,1)>>>0;var s=y().subarray(a+c,a+i);a=r(a,i,c+=E(t,s).written,1)>>>0}return x=c,a}(m(d(r)),t.__wbindgen_malloc,t.__wbindgen_realloc),o=x;O().setInt32(e+4,o,!0),O().setInt32(e+0,n,!0)},e.wbg.__wbindgen_throw=function(t,e){throw new Error(g(t,e))},e.wbg.__wbindgen_memory=function(){return w(t.memory)},e}function R(e,r){return t=e.exports,N.__wbindgen_wasm_module=r,L=null,p=null,t}function N(t){return G.apply(this,arguments)}function G(){return(G=a(o().mark((function e(r){var i,a,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=2;break}return e.abrupt("return",t);case 2:return void 0!==r&&Object.getPrototypeOf(r)===Object.prototype?r=r.module_or_path:console.warn("using deprecated parameters for the initialization function; pass a single object instead"),void 0===r&&(r=new URL(n(457),n.b)),i=I(),("string"==typeof r||"function"==typeof Request&&r instanceof Request||"function"==typeof URL&&r instanceof URL)&&(r=fetch(r)),e.t0=T,e.next=10,r;case 10:return e.t1=e.sent,e.t2=i,e.next=14,(0,e.t0)(e.t1,e.t2);case 14:return a=e.sent,u=a.instance,c=a.module,e.abrupt("return",R(u,c));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const C=N,U=n.p+"images/spaceship.png",B=n.p+"images/rocket.png";function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function W(){W=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),u=new A(n||[]);return o(a,"_invoke",{value:O(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",y="executing",g="completed",_={};function v(){}function w(){}function d(){}var b={};f(b,a,(function(){return this}));var m=Object.getPrototypeOf,x=m&&m(m(T([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=d.prototype=v.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var f=c.arg,s=f.value;return s&&"object"==D(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(s).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=S(u,n);if(c){if(c===_)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var f=l(e,r,n);if("normal"===f.type){if(o=n.done?g:p,f.arg===_)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(o=g,n.method="throw",n.arg=f.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,_;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,_):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(D(e)+" is not iterable")}return w.prototype=d,o(k,"constructor",{value:d,configurable:!0}),o(d,"constructor",{value:w,configurable:!0}),w.displayName=f(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,f(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),f(L.prototype,u,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new L(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(k),f(k,c,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),f=n.call(a,"finallyLoc");if(c&&f){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!f)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),_}},e}function z(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function Y(){var t;return t=W().mark((function t(){var e,r,n,o,i,a,u,c,f,s,l,h,p,y,g,_,v;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v=function(){if(i&&(o.update(),o.is_ended())){i=!1,n.disabled=!1,n.textContent="Restart",clearInterval(a);var t=document.getElementById("gameStatus");o.is_won()?(t.textContent="You win!",t.style.color="green"):(t.textContent="Game Over",t.style.color="red")}},_=function(){r.clearRect(0,0,e.width,e.height),s(),h(),p(),i&&g(),requestAnimationFrame(_)},g=function(){1===y.ArrowUp&&(o.move_up(),y.ArrowUp=2),1===y.ArrowDown&&(o.move_down(),y.ArrowDown=2),1===y[" "]&&(o.fire(),y[" "]=2)},p=function(){var t=o.bullets(),e=o.get_visible_x();t.forEach((function(t){r.fillStyle="cyan";var n=(t.x-e)*u+u/2,o=t.y*u+u/2;r.beginPath(),r.arc(n,o,5,0,2*Math.PI),r.fill()}))},h=function(){var t=o.get_player();c.complete?r.drawImage(c,0,t.y()*u,u,u):(r.fillStyle="red",r.fillRect(0,t.y()*u,u,u))},l=function(t,e){f.complete?r.drawImage(f,t*u,e*u,u,u):(r.fillStyle="yellow",r.fillRect(t*u,e*u,u,u))},s=function(){var t=o.get_visible_map(),n=o.get_visible_width(),i=o.get_visible_height();r.fillStyle="#000",r.fillRect(0,0,e.width,e.height);for(var a=0;a<i;a++)for(var c=0;c<n;c++){var f=t[a*n+c],s=.05*u;r.lineWidth=3,r.strokeStyle=1===f?"#00FFFF":"#080808",r.strokeRect(c*u+s,a*u+s,u-2*s,u-2*s),2===f&&l(c,a)}},t.next=9,C();case 9:e=document.getElementById("gameCanvas"),r=e.getContext("2d"),n=document.getElementById("startButton"),o=new j,i=!1,u=100,(c=new Image).src=U,(f=new Image).src=B,y={ArrowUp:0,ArrowDown:0," ":0},window.addEventListener("keydown",(function(t){t.key in y&&0===y[t.key]&&(y[t.key]=1)})),window.addEventListener("keyup",(function(t){t.key in y&&(y[t.key]=0)})),n.addEventListener("click",(function(){if(!i){(o=new j).start(),i=!0,a=setInterval(v,375),n.disabled=!0;var t=document.getElementById("gameStatus");t.textContent="",t.style.color=""}})),_();case 24:case"end":return t.stop()}}),t)})),Y=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){z(i,n,o,a,u,"next",t)}function u(t){z(i,n,o,a,u,"throw",t)}a(void 0)}))},Y.apply(this,arguments)}!function(){Y.apply(this,arguments)}()})();